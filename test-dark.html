<!-- Dark Theme Chat Widget -->
<div id="chat-widget" style="position:fixed;bottom:20px;right:20px;width:300px;z-index:9999;">
  <div style="background:#1e1e1e;border:1px solid #333;border-radius:10px;box-shadow:0 2px 10px rgba(0,0,0,0.6);color:white;">
    <div style="padding:10px;font-weight:bold;font-family:sans-serif;">Chat with us</div>
    <div id="chat-log" style="height:200px;overflow-y:auto;padding:10px;font-family:sans-serif;font-size:14px;background:#2a2a2a;color:white;"></div>
    <form id="chat-form" style="display:flex;border-top:1px solid #333;">
      <input id="chat-input" type="text" placeholder="Type a message..." style="flex:1;padding:10px;border:none;font-size:14px;background:#333;color:white;">
      <button type="submit" style="padding:10px;background:#0d6efd;color:white;border:none;cursor:pointer;">âž¤</button>
    </form>
  </div>
</div>

<script>
const chatLog = document.getElementById('chat-log');
const chatForm = document.getElementById('chat-form');
const chatInput = document.getElementById('chat-input');

chatForm.addEventListener('submit', async (e) => {
  e.preventDefault();
  const message = chatInput.value.trim();
  if (!message) return;

  chatLog.innerHTML += `<div><strong>You:</strong> ${message}</div>`;
  chatInput.value = '';
  chatLog.scrollTop = chatLog.scrollHeight;

  const res = await fetch("https://chatbot-business-1.onrender.com/chat", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ message })
  });

  const data = await res.json();
  chatLog.innerHTML += `<div><strong>Bot:</strong> ${data.reply || data.error}</div>`;
  chatLog.scrollTop = chatLog.scrollHeight;
});
</script>

